{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Импортируем библиотеку Axios\nimport axios from 'axios';\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet currentPage = 1; // Инициализация текущей страницы\nconst itemsPerPage = 10; // Количество изображений на странице\nconst form = document.querySelector('form');\nconst searchInput = document.getElementById('searchInput');\nconst galleryContainer = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\n\nform.addEventListener('submit', async function(event) {\n  event.preventDefault(); // Передбачаємо стандартну дію форми (відправку)\n\n\n  loader.classList.add('visible');\n\n  const apiKey = '41459044-8203682bce4ef2c3a7a872845';\n  const searchQuery = searchInput.value.trim();  // Отримуємо значення з текстового поля та видаляємо зайві пробіли\n\n  // Перевіряємо, чи введений пошуковий запит\n  if (searchQuery !== \"\") {\n    const imageType = 'photo'; // Значення параметра image_type\n    const orientation = 'horizontal'; // Значення параметра orientation\n    const safeSearch = true; // Значення параметра safesearch\n    const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`;\n\n\n    // Показати loader перед початком запиту\n    // loader.style.display = 'block';\n\n    try {\n      const response = await axios.get(apiUrl); // Использование Axios для HTTP-запроса\n      const images = response.data.hits;\n\n      const imagesMarkup = createMarkup(images);\n\n      galleryContainer.innerHTML = imagesMarkup;\n      const lightbox = new SimpleLightbox('.image-card a');\n      // Отобразим кнопку \"Load more...\" после успешной загрузки изображений\n      const loadMoreButton = document.getElementById('loadMore');\n      loadMoreButton.style.display = 'block';\n      loadMoreButton.addEventListener('click', async  function(event) {\n        event.preventDefault();\n\n      })\n    } catch (error) {\n      console.error(\"Ошибка при выполнении запроса:\", error);\n    } finally {\n      loader.classList.remove('visible');\n      form.reset();\n    }\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n      position: 'topRight',\n    });\n  }\n});\n\nfunction createMarkup(imgArr) {\n  return imgArr.map(({ webformatURL, tags, likes, views, comments, downloads }) => `\n<div class=\"image-card\">\n<a href=\"${webformatURL}\" class=\"lightbox-trigger\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\">\n</a>\n    <div class=\"image-details\">\n    <p><strong>Likes:</strong> ${likes}</p>\n    <p><strong>Views:</strong> ${views}</p>\n    <p><strong>Comments:</strong> ${comments}</p>\n    <p><strong>Downloads:</strong> ${downloads}</p>\n</div>\n    </div>\n    `).join('');\n}\n\n\n"],"names":["form","searchInput","galleryContainer","loader","event","apiKey","searchQuery","apiUrl","images","axios","imagesMarkup","createMarkup","lightbox","SimpleLightbox","loadMoreButton","error","iziToast","imgArr","webformatURL","tags","likes","views","comments","downloads"],"mappings":"owBAaA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAmB,SAAS,eAAe,SAAS,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE/CH,EAAK,iBAAiB,SAAU,eAAeI,EAAO,CACpDA,EAAM,eAAc,EAGpBD,EAAO,UAAU,IAAI,SAAS,EAE9B,MAAME,EAAS,qCACTC,EAAcL,EAAY,MAAM,KAAI,EAG1C,GAAIK,IAAgB,GAAI,CAItB,MAAMC,EAAS,gCAAgCF,OAAYC,wDAA6E,KAMxI,GAAI,CAEF,MAAME,GADW,MAAMC,EAAM,IAAIF,CAAM,GACf,KAAK,KAEvBG,EAAeC,EAAaH,CAAM,EAExCN,EAAiB,UAAYQ,EAC7B,MAAME,EAAW,IAAIC,EAAe,eAAe,EAE7CC,EAAiB,SAAS,eAAe,UAAU,EACzDA,EAAe,MAAM,QAAU,QAC/BA,EAAe,iBAAiB,QAAS,eAAgBV,EAAO,CAC9DA,EAAM,eAAc,CAE5B,CAAO,CACF,OAAQW,EAAP,CACA,QAAQ,MAAM,iCAAkCA,CAAK,CAC3D,QAAc,CACRZ,EAAO,UAAU,OAAO,SAAS,EACjCH,EAAK,MAAK,CACX,CACL,MACIgB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAChB,CAAK,CAEL,CAAC,EAED,SAASL,EAAaM,EAAQ,CAC5B,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,WAExEL;AAAA,gBACKA,WAAsBC;AAAA;AAAA;AAAA,iCAGLC;AAAA,iCACAC;AAAA,oCACGC;AAAA,qCACCC;AAAA;AAAA;AAAA,KAGhC,EAAE,KAAK,EAAE,CACd"}